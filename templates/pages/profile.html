{{ define "profile" }} {{/* Profile page with tabs: Akun Saya and Pesanan Saya */}}
<div class="container mt-5 mb-5">
  <div class="row">
    <div class="col-lg-3 col-md-4 col-12 mb-4 mb-md-0">
      <div class="card">
        <div class="card-body text-center">
          <img src="{{ if .avatar }}{{ .avatar }}{{ else }} /public/img/theme/team-4-800x800.jpg{{ end }}" alt="avatar" class="img-fluid rounded-circle mb-2" style="width: 120px; height: 120px; object-fit: cover" />
          <h5 class="card-title">{{ if .user }}{{ .user.FirstName }} {{ .user.LastName }}{{ else }}Guest{{ end }}</h5>
          <p class="text-muted">{{ if .user }}{{ .user.Email }}{{ end }}</p>
        </div>
      </div>

      <div class="list-group mt-3" role="tablist">
        <a href="#akun" class="list-group-item list-group-item-action active" data-toggle="tab">Akun Saya</a>
        <a href="#pesanan" class="list-group-item list-group-item-action" data-toggle="tab">Pesanan Saya</a>
      </div>
    </div>

    <div class="col-lg-9 col-md-8 col-12">
      <div class="tab-content">
        <div class="tab-pane fade show active" id="akun">
          <div class="card">
            <div class="card-body">
              <h4>Akun Saya</h4>
              <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active" data-toggle="tab" href="#profil">Profil</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-toggle="tab" href="#alamat">Alamat</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" data-toggle="tab" href="#ubah-password">Ubah Password</a>
                </li>
              </ul>

              <div class="tab-content pt-3">
                <div id="profil" class="tab-pane fade show active">
                  <form method="POST" action="/profile" enctype="multipart/form-data">
                    {{ if .success }}
                    <div class="alert alert-success">{{ range $i, $msg := .success }}{{ $msg }}<br />{{ end }}</div>
                    {{ end }} {{ if .error }}
                    <div class="alert alert-danger">{{ range $i, $msg := .error }}{{ $msg }}<br />{{ end }}</div>
                    {{ end }}
                    <div class="form-row">
                      <div class="form-group col-md-6">
                        <label>First name</label>
                        <input type="text" class="form-control" name="first_name" value="{{ if .user }}{{ .user.FirstName }}{{ end }}" />
                      </div>
                      <div class="form-group col-md-6">
                        <label>Last name</label>
                        <input type="text" class="form-control" name="last_name" value="{{ if .user }}{{ .user.LastName }}{{ end }}" />
                      </div>
                    </div>

                    <div class="form-row">
                      <div class="form-group col-md-6">
                        <label>Email</label>
                        <input type="email" class="form-control" name="email" value="{{ if .user }}{{ .user.Email }}{{ end }}" readonly />
                      </div>
                      <div class="form-group col-md-6">
                        <label>Phone</label>
                        <input type="text" class="form-control" name="phone" value="" />
                      </div>
                    </div>

                    <div class="form-row">
                      <div class="form-group col-md-4">
                        <label>Gender</label>
                        <select class="form-control" name="gender">
                          <option value="">--</option>
                          <option value="male">Laki-laki</option>
                          <option value="female">Perempuan</option>
                        </select>
                      </div>
                      <div class="form-group col-md-4">
                        <label>Date of birth</label>
                        <input type="date" class="form-control" name="dob" />
                      </div>
                      <div class="form-group col-md-4">
                        <label>Foto profil</label>
                        <input type="file" class="form-control-file" name="avatar" />
                      </div>
                    </div>

                    <button class="btn btn-primary btn-block">Simpan Profil</button>
                  </form>
                </div>

                <div id="alamat" class="tab-pane fade">
                  <h5 class="mt-3">Alamat Utama</h5>
                  <div class="card mb-3">
                    <div class="card-body">
                      <p>Belum ada alamat.</p>
                    </div>
                  </div>
                  <button class="btn btn-outline-primary btn-block">Tambah Alamat</button>
                </div>

                <div id="ubah-password" class="tab-pane fade">
                  <h5 class="mt-3">Ubah Password</h5>
                  <p>Klik tombol di bawah untuk menerima link ubah password melalui email.</p>
                  <form method="POST" action="#">
                    <button class="btn btn-warning btn-block">Kirim Link Ubah Password</button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="pesanan">
          <div class="card">
            <div class="card-body">
              <h4>Pesanan Saya</h4>
              <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                <li class="nav-item"><a class="nav-link active" data-toggle="pill" href="#all">All</a></li>
                <li class="nav-item"><a class="nav-link" data-toggle="pill" href="#belum-bayar">Belum Bayar</a></li>
                <li class="nav-item"><a class="nav-link" data-toggle="pill" href="#sedang-dikemas">Sedang Dikemas</a></li>
                <li class="nav-item"><a class="nav-link" data-toggle="pill" href="#dikirim">Dikirim</a></li>
                <li class="nav-item"><a class="nav-link" data-toggle="pill" href="#selesai">Selesai</a></li>
                <li class="nav-item"><a class="nav-link" data-toggle="pill" href="#dibatalkan">Dibatalkan</a></li>
              </ul>

              <div class="tab-content">
                <div id="all" class="tab-pane fade show active">
                  <p>Tidak ada pesanan untuk saat ini.</p>
                </div>
                <div id="belum-bayar" class="tab-pane fade">Belum Bayar - belum ada.</div>
                <div id="sedang-dikemas" class="tab-pane fade">Sedang Dikemas - belum ada.</div>
                <div id="dikirim" class="tab-pane fade">Dikirim - belum ada.</div>
                <div id="selesai" class="tab-pane fade">Selesai - belum ada.</div>
                <div id="dibatalkan" class="tab-pane fade">Dibatalkan - belum ada.</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{{ end }}
